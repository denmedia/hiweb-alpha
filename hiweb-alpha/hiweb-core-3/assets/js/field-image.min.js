var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(b.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in c||(c[d]={});c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var hiweb_field_image={init:function(){jQuery("body").on("click",'.hiweb-field-image[data-has-image="0"]',function(a){a=jQuery(a.currentTarget).closest(".hiweb-field-image");hiweb_field_image.event_click_select(a)});jQuery("body").on("click",'.hiweb-field-image[data-has-image="1"]',function(a){a.preventDefault();a=jQuery(a.currentTarget).closest(".hiweb-field-image");hiweb_field_image.deselect_image(a)});jQuery("body").on("change",".hiweb-field-image input[name]",function(){console.info("!!!")})},
event_click_select:function(a){var b=wp.media({title:"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",library:{type:"image"},multiple:!1,button:{text:"Select Image"}});b.on("select",function(){hiweb_field_image.select_image(a,b.state().get("selection").first().toJSON())});b.open()},select_image:function(a,b){var c=a.find("input"),e=a.find(".thumbnail");switch("object"){case typeof b.sizes.medium:var d=b.sizes.medium.url;break;case typeof b.sizes.large:d=
b.sizes.large.url;break;case typeof b.sizes.thumbnail:d=b.sizes.thumbnail.url;break;case typeof b.sizes.full:d=b.sizes.full.url;break;default:d=!1}c.val(b.id);c.trigger("change");e.css("background-image","url("+d+")");a.attr("data-has-image","1")},deselect_image:function(a){a.find("input").val("").trigger("change");a.find(".thumbnail").css("background-image","none");a.attr("data-has-image","0")}};jQuery(document).ready(hiweb_field_image.init);
